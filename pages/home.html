<div class="container">
  <div class="social-post" data-post-id="1">
    <div class="post-header">
      <img
        src="../assets/images/profile.png"
        alt="Profile"
        class="post-avatar" />
      <div class="post-info">
        <div class="post-author">
          @Crocodilo <span class="post-date">路 3h ago</span>
        </div>
        <div class="post-meta">CTO @ PublicForum</div>
      </div>
    </div>
    <div class="post-content">
      Just finished the backend implementation for our new messaging
      feature. Excited to see this go live next week! #WebDevelopment
      #Coding
    </div>
    <div class="post-actions">
      <button class="action-btn like-btn">
        <i class="far fa-heart"></i> <span>87</span>
      </button>
      <button class="action-btn comment-btn">
        <i class="far fa-comment"></i> <span>12</span>
      </button>
      <button class="action-btn repost-btn">
        <i class="fas fa-retweet"></i> <span>5</span>
      </button>
      <button class="action-btn share-btn">
        <i class="far fa-share-square"></i>
      </button>
      <button class="action-btn save-btn">
        <i class="far fa-bookmark"></i>
      </button>
    </div>
  </div>

  
  <div class="social-post" data-post-id="2">
    <div class="post-header">
      <img
        src="../assets/images/profile.png"
        alt="Profile"
        class="post-avatar" />
      <div class="post-info">
        <div class="post-author">
          @Crocodilo <span class="post-date">路 Yesterday</span>
        </div>
        <div class="post-meta">CTO @ PublicForum</div>
      </div>
    </div>
    <div class="post-content">
      Our new office setup is ready!  #WorkspaceGoals
    </div>
    <div class="post-media single-image">
      <img
        src="../assets/images/post.jpg"
        alt="Office setup"
        class="post-image" />
    </div>
    <div class="post-actions">
      <button class="action-btn like-btn">
        <i class="far fa-heart"></i> <span>132</span>
      </button>
      <button class="action-btn comment-btn">
        <i class="far fa-comment"></i> <span>28</span>
      </button>
      <button class="action-btn repost-btn">
        <i class="fas fa-retweet"></i> <span>14</span>
      </button>
      <button class="action-btn share-btn">
        <i class="far fa-share-square"></i>
      </button>
      <button class="action-btn save-btn">
        <i class="far fa-bookmark"></i>
      </button>
    </div>
  </div>

  
  <div class="social-post" data-post-id="3">
    <div class="post-header">
      <img
        src="../assets/images/profile.png"
        alt="Profile"
        class="post-avatar" />
      <div class="post-info">
        <div class="post-author">
          @Crocodilo <span class="post-date">路 2 days ago</span>
        </div>
        <div class="post-meta">CTO @ PublicForum</div>
      </div>
    </div>

    <div class="post-content">
      Check out this quick demo of our new feature! 
    </div>

    
    <div class="post-media video-container">
      <video id="demo-video" controls class="video-element">
        <source src="../assets/video/post.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <div class="video-placeholder" onclick="playVideo('demo-video')">
        
        <div class="video-thumbnail-wrapper">
          <video class="video-thumbnail-source" muted>
            <source src="../assets/video/post.mp4" type="video/mp4" />
          </video>
          <div class="play-button">
            <i class="fas fa-play"></i>
          </div>
          <div class="video-duration">2:45</div>
        </div>
      </div>
    </div>

    <div class="post-actions">
      <button class="action-btn like-btn">
        <i class="far fa-heart"></i> <span>202</span>
      </button>
      <button class="action-btn comment-btn">
        <i class="far fa-comment"></i> <span>37</span>
      </button>
      <button class="action-btn repost-btn">
        <i class="fas fa-retweet"></i> <span>18</span>
      </button>
      <button class="action-btn share-btn">
        <i class="far fa-share-square"></i>
      </button>
      <button class="action-btn save-btn">
        <i class="far fa-bookmark"></i>
      </button>
    </div>
  </div>

  
  <div class="social-post" data-post-id="4">
    <div class="post-header">
      <img
        src="../assets/images/profile.png"
        alt="Profile"
        class="post-avatar" />
      <div class="post-info">
        <div class="post-author">
          @Crocodilo <span class="post-date">路 3 days ago</span>
        </div>
        <div class="post-meta">CTO @ PublicForum</div>
      </div>
    </div>
    <div class="post-content">
      Highlights from our team building event this weekend!  #TeamSpirit
    </div>
    <div class="post-media image-grid">
      <div class="grid-row">
        <div class="grid-item">
          <img
            src="../assets/images/post.jpg"
            alt="Team photo 1"
            class="grid-image" />
        </div>
        <div class="grid-item">
          <img
            src="../assets/images/post2.jpg"
            alt="Team photo 2"
            class="grid-image" />
        </div>
      </div>
      <div class="grid-row">
        <div class="grid-item">
          <img
            src="../assets/images/post2.jpg"
            alt="Team photo 3"
            class="grid-image" />
        </div>
        <div class="grid-item more-images">
          <img
            src="../assets/images/post.jpg"
            alt="Team photo 4"
            class="grid-image" />
          <div class="image-count">+3</div>
        </div>
      </div>
    </div>
    <div class="post-actions">
      <button class="action-btn like-btn">
        <i class="far fa-heart"></i> <span>176</span>
      </button>
      <button class="action-btn comment-btn">
        <i class="far fa-comment"></i> <span>42</span>
      </button>
      <button class="action-btn repost-btn">
        <i class="fas fa-retweet"></i> <span>8</span>
      </button>
      <button class="action-btn share-btn">
        <i class="far fa-share-square"></i>
      </button>
      <button class="action-btn save-btn">
        <i class="far fa-bookmark"></i>
      </button>
    </div>
  </div>

  
  <div class="social-post" data-post-id="5">
    <div class="post-header">
      <img
        src="../assets/images/profile.png"
        alt="Profile"
        class="post-avatar" />
      <div class="post-info">
        <div class="post-author">
          @Crocodilo <span class="post-date">路 4 days ago</span>
        </div>
        <div class="post-meta">CTO @ PublicForum</div>
      </div>
    </div>
    <div class="post-media single-image">
      <img
        src="../assets/images/post.jpg"
        alt="Scenic view"
        class="post-image" />
    </div>
    <div class="post-actions">
      <button class="action-btn like-btn">
        <i class="far fa-heart"></i> <span>254</span>
      </button>
      <button class="action-btn comment-btn">
        <i class="far fa-comment"></i> <span>31</span>
      </button>
      <button class="action-btn repost-btn">
        <i class="fas fa-retweet"></i> <span>22</span>
      </button>
      <button class="action-btn share-btn">
        <i class="far fa-share-square"></i>
      </button>
      <button class="action-btn save-btn">
        <i class="far fa-bookmark"></i>
      </button>
    </div>
  </div>

  
  <div class="social-post" data-post-id="6">
    <div class="post-header">
      <img
        src="../assets/images/profile.png"
        alt="Profile"
        class="post-avatar" />
      <div class="post-info">
        <div class="post-author">
          @Crocodilo <span class="post-date">路 1 week ago</span>
        </div>
        <div class="post-meta">CTO @ PublicForum</div>
      </div>
    </div>
    <div class="post-content">
      This is absolutely revolutionary for web development! 
    </div>
    <div class="reposted-content">
      <div class="repost-header">
        <i class="fas fa-retweet"></i> Reposted from
        <span class="repost-author">@webdev_news</span>
      </div>
      <div class="repost-post">
        <div class="post-header">
          <img
            src="../assets/images/profile.png"
            alt="Original poster"
            class="post-avatar" />
          <div class="post-info">
            <div class="post-author">
              @webdev_news <span class="post-date">路 1 week ago</span>
            </div>
            <div class="post-meta">Web Development News</div>
          </div>
        </div>
        <div class="post-content">
          Breaking: New JavaScript framework announced that promises 10x
          faster rendering speeds and 50% smaller bundle sizes. This could
          change everything about how we build web apps. #WebDev #JavaScript
        </div>
        <div class="post-media single-image">
          <img
            src="../assets/images/post.jpg"
            alt="Framework announcement"
            class="post-image" />
        </div>
      </div>
    </div>
    <div class="post-actions">
      <button class="action-btn like-btn">
        <i class="far fa-heart"></i> <span>321</span>
      </button>
      <button class="action-btn comment-btn">
        <i class="far fa-comment"></i> <span>64</span>
      </button>
      <button class="action-btn repost-btn">
        <i class="fas fa-retweet"></i> <span>143</span>
      </button>
      <button class="action-btn share-btn">
        <i class="far fa-share-square"></i>
      </button>
      <button class="action-btn save-btn">
        <i class="far fa-bookmark"></i>
      </button>
    </div>
  </div>
</div>

<script>
  // Initialize posts to be clickable when home page is loaded
  console.log("Home page loaded - preparing to make posts clickable");
  
  // Immediately try to make posts clickable
  if (typeof window.makePostsClickable === 'function') {
    console.log("makePostsClickable function found - applying now");
    window.makePostsClickable();
  } else {
    console.log("makePostsClickable function not found - will try again");
  }
  
  // Try again when DOM is fully loaded
  document.addEventListener('DOMContentLoaded', function() {
    console.log("DOM loaded on home page");
    if (typeof window.makePostsClickable === 'function') {
      window.makePostsClickable();
    } else {
      // If this function doesn't exist yet (scripts loaded out of order)
      // We'll set a timeout to try again multiple times
      let attempts = 0;
      const checkInterval = setInterval(function() {
        attempts++;
        console.log(`Attempt ${attempts} to make posts clickable`);
        if (typeof window.makePostsClickable === 'function') {
          window.makePostsClickable();
          clearInterval(checkInterval);
        } else if (attempts >= 10) {
          console.error("Failed to make posts clickable after 10 attempts");
          clearInterval(checkInterval);
        }
      }, 300);
    }
  });
  
  // Direct click handler as a fallback
  document.querySelectorAll('.social-post').forEach((post, index) => {
    if (!post.closest('.reposted-content')) {
      if (!post.dataset.postId) {
        post.dataset.postId = index + 1;
      }
      
      post.onclick = function(event) {
        if (!event.target.closest('.post-actions') && 
            !event.target.closest('.video-placeholder') && 
            !event.target.closest('video') && 
            event.target.tagName !== 'A' && 
            event.target.tagName !== 'BUTTON') {
          console.log("Direct click handler: navigating to post " + this.dataset.postId);
          loadPage('comment', this.dataset.postId);
          event.preventDefault();
          event.stopPropagation();
        }
      };
      
      post.style.cursor = 'pointer';
    }
  });
</script>