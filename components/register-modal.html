<!-- components/register-modal.html -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="registerModalLabel">Daftar Akun Baru</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="register-form">
                    <div class="mb-3">
                        <label for="fullname" class="form-label">Nama Lengkap</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="fullname" placeholder="Masukkan nama lengkap" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="register-username" class="form-label">Username</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="register-username" placeholder="Masukkan username yang diinginkan" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <div class="input-group">
                            <input type="email" class="form-control" id="email" placeholder="Masukkan alamat email" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="register-password" class="form-label">Password</label>
                        <div class="input-group">
                            <input type="password" class="form-control" id="register-password" placeholder="Masukkan password" required>
                            <button class="btn btn-outline-secondary" type="button" id="toggle-register-password">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="confirm-password" class="form-label">Konfirmasi Password</label>
                        <div class="input-group">
                            <input type="password" class="form-control" id="confirm-password" placeholder="Konfirmasi password" required>
                        </div>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="terms" required>
                        <label class="form-check-label" for="terms">Saya setuju dengan <a href="javascript:void(0)" class="text-danger">Syarat dan
                                Ketentuan</a></label>
                    </div>
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-danger">Daftar</button>
                    </div>
                </form>

                <div class="text-center mt-4">
                    <p>Sudah punya akun? <a href="javascript:void(0)" class="text-danger" id="login-link" onclick="switchToLogin()">Login
                            sekarang</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
  // Toggle password visibility
  document.getElementById('toggle-register-password').addEventListener('click', function() {
    const passwordInput = document.getElementById('register-password');
    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordInput.setAttribute('type', type);
    
    // Toggle eye icon
    const eyeIcon = this.querySelector('i');
    eyeIcon.classList.toggle('fa-eye');
    eyeIcon.classList.toggle('fa-eye-slash');
  });
  
  // Handle register form submission
  document.getElementById('register-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form values
    const fullname = document.getElementById('fullname').value;
    const username = document.getElementById('register-username').value;
    const email = document.getElementById('email').value;
    const password = document.getElementById('register-password').value;
    const confirmPassword = document.getElementById('confirm-password').value;
    
    // Validate passwords match
    if (password !== confirmPassword) {
      alert('Password tidak cocok! Silakan periksa kembali.');
      return;
    }
    
    // Here you would typically send these values to your server
    console.log('Register attempt:', { fullname, username, email, password });
    
    // For demo purposes, simulate successful registration
    alert('Pendaftaran berhasil! Selamat datang, ' + fullname);
    
    // Close the modal
    hideRegisterModal();
    
    // Redirect to home page
    loadPage('home');
  });
</script>